{"version":3,"file":"tiptap-extension-font-family.cjs","sources":["../src/font-family.ts"],"sourcesContent":["import '@tiptap/extension-text-style'\n\nimport { Extension } from '@tiptap/core'\n\nexport type FontFamilyOptions = {\n  types: string[],\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    fontFamily: {\n      /**\n       * Set the text font-family\n       */\n      setFontFamily: (fontFamily: string) => ReturnType,\n      /**\n       * Unset the text font-family\n       */\n      unsetFontFamily: () => ReturnType,\n    }\n  }\n}\n\nexport const FontFamily = Extension.create<FontFamilyOptions>({\n  name: 'font-family',\n\n  addOptions() {\n    return {\n      types: ['textStyle'],\n    }\n  },\n\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          fontFamily: {\n            default: null,\n            parseHTML: element => element.style.fontFamily?.replace(/['\"]+/g, ''),\n            renderHTML: attributes => {\n              if (!attributes.fontFamily) {\n                return {}\n              }\n\n              return {\n                style: `font-family: '${attributes.fontFamily}'`,\n              }\n            },\n          },\n        },\n      },\n    ]\n  },\n\n  addCommands() {\n    return {\n      setFontFamily: fontFamily => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontFamily })\n          .run()\n      },\n      unsetFontFamily: () => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontFamily: null })\n          .removeEmptyTextStyle()\n          .run()\n      },\n    }\n  },\n})\n"],"names":["Extension"],"mappings":";;;;;;;AAuBa,MAAA,UAAA,GAAaA,eAAU,MAA0B,CAAA;AAAA,EAC5D,IAAM,EAAA,aAAA;AAAA,EAEN,UAAa,GAAA;AACX,IAAO,OAAA;AAAA,MACL,KAAA,EAAO,CAAC,WAAW,CAAA;AAAA,KACrB,CAAA;AAAA,GACF;AAAA,EAEA,mBAAsB,GAAA;AACpB,IAAO,OAAA;AAAA,MACL;AAAA,QACE,KAAA,EAAO,KAAK,OAAQ,CAAA,KAAA;AAAA,QACpB,UAAY,EAAA;AAAA,UACV,UAAY,EAAA;AAAA,YACV,OAAS,EAAA,IAAA;AAAA,YACT,WAAW,CAAQ,OAAA,KAAA;AAvC/B,cAAA,IAAA,EAAA,CAAA;AAuCkC,cAAA,OAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,KAAM,CAAA,UAAA,KAAd,IAA0B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAQ,QAAU,EAAA,EAAA,CAAA,CAAA;AAAA,aAAA;AAAA,YAClE,YAAY,CAAc,UAAA,KAAA;AACxB,cAAI,IAAA,CAAC,WAAW,UAAY,EAAA;AAC1B,gBAAA,OAAO,EAAC,CAAA;AAAA,eACV;AAEA,cAAO,OAAA;AAAA,gBACL,KAAA,EAAO,iBAAiB,UAAW,CAAA,UAAA,CAAA,CAAA,CAAA;AAAA,eACrC,CAAA;AAAA,aACF;AAAA,WACF;AAAA,SACF;AAAA,OACF;AAAA,KACF,CAAA;AAAA,GACF;AAAA,EAEA,WAAc,GAAA;AACZ,IAAO,OAAA;AAAA,MACL,aAAe,EAAA,CAAA,UAAA,KAAc,CAAC,EAAE,OAAY,KAAA;AAC1C,QAAO,OAAA,KAAA,GACJ,OAAQ,CAAA,WAAA,EAAa,EAAE,UAAW,EAAC,EACnC,GAAI,EAAA,CAAA;AAAA,OACT;AAAA,MACA,eAAiB,EAAA,MAAM,CAAC,EAAE,OAAY,KAAA;AACpC,QAAO,OAAA,KAAA,EACJ,CAAA,OAAA,CAAQ,WAAa,EAAA,EAAE,UAAY,EAAA,IAAA,EAAM,CAAA,CACzC,oBAAqB,EAAA,CACrB,GAAI,EAAA,CAAA;AAAA,OACT;AAAA,KACF,CAAA;AAAA,GACF;AACF,CAAC;;;;;"}