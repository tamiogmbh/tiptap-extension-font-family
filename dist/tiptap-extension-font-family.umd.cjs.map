{"version":3,"file":"tiptap-extension-font-family.umd.cjs","sources":["../src/font-family.ts"],"sourcesContent":["import '@tiptap/extension-text-style'\n\nimport { Extension } from '@tiptap/core'\n\nexport type FontFamilyOptions = {\n  types: string[],\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    fontFamily: {\n      /**\n       * Set the text font-family\n       */\n      setFontFamily: (fontFamily: string) => ReturnType,\n      /**\n       * Unset the text font-family\n       */\n      unsetFontFamily: () => ReturnType,\n    }\n  }\n}\n\nexport const FontFamily = Extension.create<FontFamilyOptions>({\n  name: 'font-family',\n\n  addOptions() {\n    return {\n      types: ['textStyle'],\n    }\n  },\n\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          fontFamily: {\n            default: null,\n            parseHTML: element => element.style.fontFamily?.replace(/['\"]+/g, ''),\n            renderHTML: attributes => {\n              if (!attributes.fontFamily) {\n                return {}\n              }\n\n              return {\n                style: `font-family: '${attributes.fontFamily}'`,\n              }\n            },\n          },\n        },\n      },\n    ]\n  },\n\n  addCommands() {\n    return {\n      setFontFamily: fontFamily => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontFamily })\n          .run()\n      },\n      unsetFontFamily: () => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontFamily: null })\n          .removeEmptyTextStyle()\n          .run()\n      },\n    }\n  },\n})\n"],"names":["Extension"],"mappings":";;;;;;AAuBa,QAAA,UAAA,GAAaA,eAAU,MAA0B,CAAA;EAAA,EAC5D,IAAM,EAAA,aAAA;EAAA,EAEN,UAAa,GAAA;EACX,IAAO,OAAA;EAAA,MACL,KAAA,EAAO,CAAC,WAAW,CAAA;EAAA,KACrB,CAAA;EAAA,GACF;EAAA,EAEA,mBAAsB,GAAA;EACpB,IAAO,OAAA;EAAA,MACL;EAAA,QACE,KAAA,EAAO,KAAK,OAAQ,CAAA,KAAA;EAAA,QACpB,UAAY,EAAA;EAAA,UACV,UAAY,EAAA;EAAA,YACV,OAAS,EAAA,IAAA;EAAA,YACT,WAAW,CAAQ,OAAA,KAAA;EAvC/B,cAAA,IAAA,EAAA,CAAA;EAuCkC,cAAA,OAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,KAAM,CAAA,UAAA,KAAd,IAA0B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAA,CAAQ,QAAU,EAAA,EAAA,CAAA,CAAA;EAAA,aAAA;EAAA,YAClE,YAAY,CAAc,UAAA,KAAA;EACxB,cAAI,IAAA,CAAC,WAAW,UAAY,EAAA;EAC1B,gBAAA,OAAO,EAAC,CAAA;EAAA,eACV;EAEA,cAAO,OAAA;EAAA,gBACL,KAAA,EAAO,iBAAiB,UAAW,CAAA,UAAA,CAAA,CAAA,CAAA;EAAA,eACrC,CAAA;EAAA,aACF;EAAA,WACF;EAAA,SACF;EAAA,OACF;EAAA,KACF,CAAA;EAAA,GACF;EAAA,EAEA,WAAc,GAAA;EACZ,IAAO,OAAA;EAAA,MACL,aAAe,EAAA,CAAA,UAAA,KAAc,CAAC,EAAE,OAAY,KAAA;EAC1C,QAAO,OAAA,KAAA,GACJ,OAAQ,CAAA,WAAA,EAAa,EAAE,UAAW,EAAC,EACnC,GAAI,EAAA,CAAA;EAAA,OACT;EAAA,MACA,eAAiB,EAAA,MAAM,CAAC,EAAE,OAAY,KAAA;EACpC,QAAO,OAAA,KAAA,EACJ,CAAA,OAAA,CAAQ,WAAa,EAAA,EAAE,UAAY,EAAA,IAAA,EAAM,CAAA,CACzC,oBAAqB,EAAA,CACrB,GAAI,EAAA,CAAA;EAAA,OACT;EAAA,KACF,CAAA;EAAA,GACF;EACF,CAAC;;;;;;;;;;;"}